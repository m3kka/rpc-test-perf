// @generated by protoc-gen-es v1.5.1
// @generated from file envoy/service/discovery/v3/discovery.proto (package envoy.service.discovery.v3, syntax proto3)
/* eslint-disable */
// @ts-nocheck

import { Any, Duration, proto3 } from "@bufbuild/protobuf";
import { ControlPlane, Metadata, Node } from "../../../config/core/v3/base_pb.js";
import { Status } from "../../../../google/rpc/status_pb.js";

/**
 * Specifies a resource to be subscribed to.
 *
 * @generated from message envoy.service.discovery.v3.ResourceLocator
 */
export const ResourceLocator = proto3.makeMessageType(
  "envoy.service.discovery.v3.ResourceLocator",
  () => [
    { no: 1, name: "name", kind: "scalar", T: 9 /* ScalarType.STRING */ },
    { no: 2, name: "dynamic_parameters", kind: "map", K: 9 /* ScalarType.STRING */, V: {kind: "scalar", T: 9 /* ScalarType.STRING */} },
  ],
);

/**
 * Specifies a concrete resource name.
 *
 * @generated from message envoy.service.discovery.v3.ResourceName
 */
export const ResourceName = proto3.makeMessageType(
  "envoy.service.discovery.v3.ResourceName",
  () => [
    { no: 1, name: "name", kind: "scalar", T: 9 /* ScalarType.STRING */ },
    { no: 2, name: "dynamic_parameter_constraints", kind: "message", T: DynamicParameterConstraints },
  ],
);

/**
 * A DiscoveryRequest requests a set of versioned resources of the same type for
 * a given Envoy node on some API.
 * [#next-free-field: 8]
 *
 * @generated from message envoy.service.discovery.v3.DiscoveryRequest
 */
export const DiscoveryRequest = proto3.makeMessageType(
  "envoy.service.discovery.v3.DiscoveryRequest",
  () => [
    { no: 1, name: "version_info", kind: "scalar", T: 9 /* ScalarType.STRING */ },
    { no: 2, name: "node", kind: "message", T: Node },
    { no: 3, name: "resource_names", kind: "scalar", T: 9 /* ScalarType.STRING */, repeated: true },
    { no: 7, name: "resource_locators", kind: "message", T: ResourceLocator, repeated: true },
    { no: 4, name: "type_url", kind: "scalar", T: 9 /* ScalarType.STRING */ },
    { no: 5, name: "response_nonce", kind: "scalar", T: 9 /* ScalarType.STRING */ },
    { no: 6, name: "error_detail", kind: "message", T: Status },
  ],
);

/**
 * [#next-free-field: 7]
 *
 * @generated from message envoy.service.discovery.v3.DiscoveryResponse
 */
export const DiscoveryResponse = proto3.makeMessageType(
  "envoy.service.discovery.v3.DiscoveryResponse",
  () => [
    { no: 1, name: "version_info", kind: "scalar", T: 9 /* ScalarType.STRING */ },
    { no: 2, name: "resources", kind: "message", T: Any, repeated: true },
    { no: 3, name: "canary", kind: "scalar", T: 8 /* ScalarType.BOOL */ },
    { no: 4, name: "type_url", kind: "scalar", T: 9 /* ScalarType.STRING */ },
    { no: 5, name: "nonce", kind: "scalar", T: 9 /* ScalarType.STRING */ },
    { no: 6, name: "control_plane", kind: "message", T: ControlPlane },
  ],
);

/**
 * DeltaDiscoveryRequest and DeltaDiscoveryResponse are used in a new gRPC
 * endpoint for Delta xDS.
 *
 * With Delta xDS, the DeltaDiscoveryResponses do not need to include a full
 * snapshot of the tracked resources. Instead, DeltaDiscoveryResponses are a
 * diff to the state of a xDS client.
 * In Delta XDS there are per-resource versions, which allow tracking state at
 * the resource granularity.
 * An xDS Delta session is always in the context of a gRPC bidirectional
 * stream. This allows the xDS server to keep track of the state of xDS clients
 * connected to it.
 *
 * In Delta xDS the nonce field is required and used to pair
 * DeltaDiscoveryResponse to a DeltaDiscoveryRequest ACK or NACK.
 * Optionally, a response message level system_version_info is present for
 * debugging purposes only.
 *
 * DeltaDiscoveryRequest plays two independent roles. Any DeltaDiscoveryRequest
 * can be either or both of: [1] informing the server of what resources the
 * client has gained/lost interest in (using resource_names_subscribe and
 * resource_names_unsubscribe), or [2] (N)ACKing an earlier resource update from
 * the server (using response_nonce, with presence of error_detail making it a NACK).
 * Additionally, the first message (for a given type_url) of a reconnected gRPC stream
 * has a third role: informing the server of the resources (and their versions)
 * that the client already possesses, using the initial_resource_versions field.
 *
 * As with state-of-the-world, when multiple resource types are multiplexed (ADS),
 * all requests/acknowledgments/updates are logically walled off by type_url:
 * a Cluster ACK exists in a completely separate world from a prior Route NACK.
 * In particular, initial_resource_versions being sent at the "start" of every
 * gRPC stream actually entails a message for each type_url, each with its own
 * initial_resource_versions.
 * [#next-free-field: 10]
 *
 * @generated from message envoy.service.discovery.v3.DeltaDiscoveryRequest
 */
export const DeltaDiscoveryRequest = proto3.makeMessageType(
  "envoy.service.discovery.v3.DeltaDiscoveryRequest",
  () => [
    { no: 1, name: "node", kind: "message", T: Node },
    { no: 2, name: "type_url", kind: "scalar", T: 9 /* ScalarType.STRING */ },
    { no: 3, name: "resource_names_subscribe", kind: "scalar", T: 9 /* ScalarType.STRING */, repeated: true },
    { no: 4, name: "resource_names_unsubscribe", kind: "scalar", T: 9 /* ScalarType.STRING */, repeated: true },
    { no: 8, name: "resource_locators_subscribe", kind: "message", T: ResourceLocator, repeated: true },
    { no: 9, name: "resource_locators_unsubscribe", kind: "message", T: ResourceLocator, repeated: true },
    { no: 5, name: "initial_resource_versions", kind: "map", K: 9 /* ScalarType.STRING */, V: {kind: "scalar", T: 9 /* ScalarType.STRING */} },
    { no: 6, name: "response_nonce", kind: "scalar", T: 9 /* ScalarType.STRING */ },
    { no: 7, name: "error_detail", kind: "message", T: Status },
  ],
);

/**
 * [#next-free-field: 9]
 *
 * @generated from message envoy.service.discovery.v3.DeltaDiscoveryResponse
 */
export const DeltaDiscoveryResponse = proto3.makeMessageType(
  "envoy.service.discovery.v3.DeltaDiscoveryResponse",
  () => [
    { no: 1, name: "system_version_info", kind: "scalar", T: 9 /* ScalarType.STRING */ },
    { no: 2, name: "resources", kind: "message", T: Resource, repeated: true },
    { no: 4, name: "type_url", kind: "scalar", T: 9 /* ScalarType.STRING */ },
    { no: 6, name: "removed_resources", kind: "scalar", T: 9 /* ScalarType.STRING */, repeated: true },
    { no: 8, name: "removed_resource_names", kind: "message", T: ResourceName, repeated: true },
    { no: 5, name: "nonce", kind: "scalar", T: 9 /* ScalarType.STRING */ },
    { no: 7, name: "control_plane", kind: "message", T: ControlPlane },
  ],
);

/**
 * A set of dynamic parameter constraints associated with a variant of an individual xDS resource.
 * These constraints determine whether the resource matches a subscription based on the set of
 * dynamic parameters in the subscription, as specified in the
 * :ref:`ResourceLocator.dynamic_parameters<envoy_v3_api_field_service.discovery.v3.ResourceLocator.dynamic_parameters>`
 * field. This allows xDS implementations (clients, servers, and caching proxies) to determine
 * which variant of a resource is appropriate for a given client.
 *
 * @generated from message envoy.service.discovery.v3.DynamicParameterConstraints
 */
export const DynamicParameterConstraints = proto3.makeMessageType(
  "envoy.service.discovery.v3.DynamicParameterConstraints",
  () => [
    { no: 1, name: "constraint", kind: "message", T: DynamicParameterConstraints_SingleConstraint, oneof: "type" },
    { no: 2, name: "or_constraints", kind: "message", T: DynamicParameterConstraints_ConstraintList, oneof: "type" },
    { no: 3, name: "and_constraints", kind: "message", T: DynamicParameterConstraints_ConstraintList, oneof: "type" },
    { no: 4, name: "not_constraints", kind: "message", T: DynamicParameterConstraints, oneof: "type" },
  ],
);

/**
 * A single constraint for a given key.
 *
 * @generated from message envoy.service.discovery.v3.DynamicParameterConstraints.SingleConstraint
 */
export const DynamicParameterConstraints_SingleConstraint = proto3.makeMessageType(
  "envoy.service.discovery.v3.DynamicParameterConstraints.SingleConstraint",
  () => [
    { no: 1, name: "key", kind: "scalar", T: 9 /* ScalarType.STRING */ },
    { no: 2, name: "value", kind: "scalar", T: 9 /* ScalarType.STRING */, oneof: "constraint_type" },
    { no: 3, name: "exists", kind: "message", T: DynamicParameterConstraints_SingleConstraint_Exists, oneof: "constraint_type" },
  ],
  {localName: "DynamicParameterConstraints_SingleConstraint"},
);

/**
 * @generated from message envoy.service.discovery.v3.DynamicParameterConstraints.SingleConstraint.Exists
 */
export const DynamicParameterConstraints_SingleConstraint_Exists = proto3.makeMessageType(
  "envoy.service.discovery.v3.DynamicParameterConstraints.SingleConstraint.Exists",
  [],
  {localName: "DynamicParameterConstraints_SingleConstraint_Exists"},
);

/**
 * @generated from message envoy.service.discovery.v3.DynamicParameterConstraints.ConstraintList
 */
export const DynamicParameterConstraints_ConstraintList = proto3.makeMessageType(
  "envoy.service.discovery.v3.DynamicParameterConstraints.ConstraintList",
  () => [
    { no: 1, name: "constraints", kind: "message", T: DynamicParameterConstraints, repeated: true },
  ],
  {localName: "DynamicParameterConstraints_ConstraintList"},
);

/**
 * [#next-free-field: 10]
 *
 * @generated from message envoy.service.discovery.v3.Resource
 */
export const Resource = proto3.makeMessageType(
  "envoy.service.discovery.v3.Resource",
  () => [
    { no: 3, name: "name", kind: "scalar", T: 9 /* ScalarType.STRING */ },
    { no: 8, name: "resource_name", kind: "message", T: ResourceName },
    { no: 4, name: "aliases", kind: "scalar", T: 9 /* ScalarType.STRING */, repeated: true },
    { no: 1, name: "version", kind: "scalar", T: 9 /* ScalarType.STRING */ },
    { no: 2, name: "resource", kind: "message", T: Any },
    { no: 6, name: "ttl", kind: "message", T: Duration },
    { no: 7, name: "cache_control", kind: "message", T: Resource_CacheControl },
    { no: 9, name: "metadata", kind: "message", T: Metadata },
  ],
);

/**
 * Cache control properties for the resource.
 * [#not-implemented-hide:]
 *
 * @generated from message envoy.service.discovery.v3.Resource.CacheControl
 */
export const Resource_CacheControl = proto3.makeMessageType(
  "envoy.service.discovery.v3.Resource.CacheControl",
  () => [
    { no: 1, name: "do_not_cache", kind: "scalar", T: 8 /* ScalarType.BOOL */ },
  ],
  {localName: "Resource_CacheControl"},
);

